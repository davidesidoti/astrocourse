<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Advanced Mathematics Interactive Elements</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
            background-color: #f5f5f5;
            color: #333;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background-color: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }
        h1, h2, h3 {
            color: #2c3e50;
        }
        h1 {
            text-align: center;
            margin-bottom: 30px;
            border-bottom: 2px solid #3498db;
            padding-bottom: 10px;
        }
        .interactive-element {
            margin-bottom: 40px;
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 8px;
            background-color: #f9f9f9;
        }
        .controls {
            margin: 20px 0;
            padding: 15px;
            background-color: #eef7ff;
            border-radius: 5px;
        }
        .visualization {
            width: 100%;
            height: 400px;
            border: 1px solid #ddd;
            margin: 15px 0;
        }
        label {
            display: inline-block;
            margin-right: 15px;
            margin-bottom: 10px;
        }
        input[type="range"], input[type="number"], select {
            margin-right: 15px;
            padding: 5px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
        button {
            background-color: #3498db;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 4px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        button:hover {
            background-color: #2980b9;
        }
        .result-box {
            margin-top: 15px;
            padding: 10px;
            background-color: #e8f4f8;
            border-radius: 4px;
            border-left: 4px solid #3498db;
        }
        .tab-container {
            margin-bottom: 20px;
        }
        .tab {
            display: inline-block;
            padding: 10px 20px;
            background-color: #ddd;
            cursor: pointer;
            border-radius: 5px 5px 0 0;
        }
        .tab.active {
            background-color: #3498db;
            color: white;
        }
        .tab-content {
            display: none;
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 0 5px 5px 5px;
        }
        .tab-content.active {
            display: block;
        }
        .stats {
            margin-top: 15px;
            padding: 10px;
            background-color: #e8f4f8;
            border-radius: 4px;
        }
        .stat-item {
            display: inline-block;
            margin-right: 20px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Advanced Mathematics Interactive Elements</h1>
        
        <div class="tab-container">
            <div class="tab active" onclick="openTab(event, 'calculus')">Calculus</div>
            <div class="tab" onclick="openTab(event, 'differential-equations')">Differential Equations</div>
            <div class="tab" onclick="openTab(event, 'linear-algebra')">Linear Algebra</div>
            <div class="tab" onclick="openTab(event, 'coordinate-systems')">Coordinate Systems</div>
            <div class="tab" onclick="openTab(event, 'statistical-thinking')">Statistical Thinking</div>
            <div class="tab" onclick="openTab(event, 'computational-approaches')">Computational Approaches</div>
            <div class="tab" onclick="openTab(event, 'numerical-methods')">Numerical Methods</div>
        </div>
        
        <!-- Calculus Tab -->
        <div id="calculus" class="tab-content active">
            <!-- Derivative Explorer -->
            <div class="interactive-element">
                <h2>Derivative Explorer</h2>
                <p>Explore the concept of derivatives by visualizing functions and their derivatives.</p>
                
                <div class="controls">
                    <label>
                        Function:
                        <select id="derivative-function">
                            <option value="sin">sin(x)</option>
                            <option value="cos">cos(x)</option>
                            <option value="tan">tan(x)</option>
                            <option value="x2">x²</option>
                            <option value="x3">x³</option>
                            <option value="exp">e^x</option>
                            <option value="log">ln(x)</option>
                        </select>
                    </label>
                    
                    <label>
                        Show Tangent Line:
                        <input type="checkbox" id="show-tangent" checked>
                    </label>
                    
                    <label>
                        x-value:
                        <input type="range" id="tangent-x" min="-10" max="10" step="0.1" value="0">
                        <span id="tangent-x-value">0</span>
                    </label>
                </div>
                
                <div id="derivative-visualization" class="visualization"></div>
                
                <div class="result-box">
                    <p>Function value at x = <span id="function-value">0</span></p>
                    <p>Derivative value at x = <span id="derivative-value">0</span></p>
                </div>
            </div>
            
            <!-- Integral Visualizer -->
            <div class="interactive-element">
                <h2>Integral Visualizer</h2>
                <p>Visualize the concept of integrals as the area under a curve.</p>
                
                <div class="controls">
                    <label>
                        Function:
                        <select id="integral-function">
                            <option value="sin">sin(x)</option>
                            <option value="cos">cos(x)</option>
                            <option value="x2">x²</option>
                            <option value="x3">x³</option>
                            <option value="exp">e^x</option>
                        </select>
                    </label>
                    
                    <label>
                        Lower Bound:
                        <input type="range" id="lower-bound" min="-10" max="10" step="0.1" value="0">
                        <span id="lower-bound-value">0</span>
                    </label>
                    
                    <label>
                        Upper Bound:
                        <input type="range" id="upper-bound" min="-10" max="10" step="0.1" value="1">
                        <span id="upper-bound-value">1</span>
                    </label>
                    
                    <label>
                        Number of Rectangles:
                        <input type="range" id="num-rectangles" min="1" max="100" step="1" value="10">
                        <span id="num-rectangles-value">10</span>
                    </label>
                    
                    <label>
                        Method:
                        <select id="integral-method">
                            <option value="left">Left Riemann Sum</option>
                            <option value="right">Right Riemann Sum</option>
                            <option value="midpoint">Midpoint Rule</option>
                            <option value="trapezoid">Trapezoid Rule</option>
                        </select>
                    </label>
                </div>
                
                <div id="integral-visualization" class="visualization"></div>
                
                <div class="result-box">
                    <p>Approximate integral value: <span id="integral-value">0</span></p>
                    <p>Exact integral value: <span id="exact-integral">0</span></p>
                </div>
            </div>
        </div>
        
        <!-- Differential Equations Tab -->
        <div id="differential-equations" class="tab-content">
            <!-- First Order ODE Solver -->
            <div class="interactive-element">
                <h2>First Order ODE Solver</h2>
                <p>Explore numerical solutions to first-order ordinary differential equations.</p>
                
                <div class="controls">
                    <label>
                        Equation:
                        <select id="ode-equation">
                            <option value="exponential">dy/dx = y (Exponential Growth)</option>
                            <option value="logistic">dy/dx = y(1-y) (Logistic Growth)</option>
                            <option value="decay">dy/dx = -0.5y (Exponential Decay)</option>
                            <option value="custom">dy/dx = Custom</option>
                        </select>
                    </label>
                    
                    <div id="custom-equation-container" style="display: none;">
                        <label>
                            Custom Equation (use 'y' as variable):
                            <input type="text" id="custom-equation" value="y">
                        </label>
                    </div>
                    
                    <label>
                        Initial Value (y₀):
                        <input type="number" id="initial-value" min="0.1" max="10" step="0.1" value="1">
                    </label>
                    
                    <label>
                        x-range:
                        <input type="range" id="x-range" min="1" max="10" step="0.5" value="5">
                        <span id="x-range-value">5</span>
                    </label>
                    
                    <label>
                        Method:
                        <select id="ode-method">
                            <option value="euler">Euler Method</option>
                            <option value="improved-euler">Improved Euler Method</option>
                            <option value="rk4">Runge-Kutta 4th Order</option>
                        </select>
                    </label>
                    
                    <label>
                        Step Size:
                        <input type="range" id="step-size" min="0.01" max="0.5" step="0.01" value="0.1">
                        <span id="step-size-value">0.1</span>
                    </label>
                    
                    <button id="solve-ode">Solve ODE</button>
                </div>
                
                <div id="ode-visualization" class="visualization"></div>
                
                <div class="result-box">
                    <p>Method: <span id="method-name">Euler Method</span></p>
                    <p>Error Estimate: <span id="error-estimate">0</span></p>
                </div>
            </div>
            
            <!-- Second Order ODE Solver -->
            <div class="interactive-element">
                <h2>Second Order ODE Solver</h2>
                <p>Explore numerical solutions to second-order ordinary differential equations, such as the simple harmonic oscillator.</p>
                
                <div class="controls">
                    <label>
                        Equation:
                        <select id="second-ode-equation">
                            <option value="harmonic">d²y/dx² + y = 0 (Simple Harmonic Oscillator)</option>
                            <option value="damped">d²y/dx² + 0.5dy/dx + y = 0 (Damped Oscillator)</option>
                            <option value="forced">d²y/dx² + 0.5dy/dx + y = sin(x) (Forced Oscillator)</option>
                        </select>
                    </label>
                    
                    <label>
                        Initial Position (y₀):
                        <input type="number" id="initial-position" min="-5" max="5" step="0.1" value="1">
                    </label>
                    
                    <label>
                        Initial Velocity (y'₀):
                        <input type="number" id="initial-velocity" min="-5" max="5" step="0.1" value="0">
                    </label>
                    
                    <label>
                        x-range:
                        <input type="range" id="second-x-range" min="1" max="20" step="0.5" value="10">
                        <span id="second-x-range-value">10</span>
                    </label>
                    
                    <button id="solve-second-ode">Solve ODE</button>
                </div>
                
                <div id="second-ode-visualization" class="visualization"></div>
                
                <div class="result-box">
                    <p>Maximum Amplitude: <span id="max-amplitude">0</span></p>
                    <p>Period (if applicable): <span id="period">0</span></p>
                </div>
            </div>
        </div>
        
        <!-- Linear Algebra Tab -->
        <div id="linear-algebra" class="tab-content">
            <!-- Matrix Operations -->
            <div class="interactive-element">
                <h2>Matrix Operations</h2>
                <p>Explore basic matrix operations and their properties.</p>
                
                <div class="controls">
                    <label>
                        Matrix A:
                        <textarea id="matrix-a" rows="3" cols="20">1 2 3
4 5 6
7 8 9</textarea>
                    </label>
                    
                    <label>
                        Matrix B:
                        <textarea id="matrix-b" rows="3" cols="20">9 8 7
6 5 4
3 2 1</textarea>
                    </label>
                    
                    <label>
                        Operation:
                        <select id="matrix-operation">
                            <option value="add">A + B</option>
                            <option value="subtract">A - B</option>
                            <option value="multiply">A × B</option>
                            <option value="determinant">det(A)</option>
                            <option value="inverse">A⁻¹</option>
                            <option value="transpose">Aᵀ</option>
                        </select>
                    </label>
                    
                    <button id="calculate-matrix">Calculate</button>
                </div>
                
                <div class="result-box">
                    <p>Result:</p>
                    <pre id="matrix-result">Result will appear here</pre>
                </div>
            </div>
            
            <!-- Eigenvalue Visualizer -->
            <div class="interactive-element">
                <h2>Eigenvalue and Eigenvector Visualizer</h2>
                <p>Visualize how a 2×2 matrix transforms vectors and the special role of eigenvectors.</p>
                
                <div class="controls">
                    <label>
                        Matrix:
                        <input type="number" id="a11" min="-5" max="5" step="0.1" value="1"> 
                        <input type="number" id="a12" min="-5" max="5" step="0.1" value="1"><br>
                        <input type="number" id="a21" min="-5" max="5" step="0.1" value="1"> 
                        <input type="number" id="a22" min="-5" max="5" step="0.1" value="1">
                    </label>
                    
                    <label>
                        Show Eigenvectors:
                        <input type="checkbox" id="show-eigenvectors" checked>
                    </label>
                    
                    <label>
                        Show Unit Circle Transformation:
                        <input type="checkbox" id="show-unit-circle" checked>
                    </label>
                    
                    <button id="calculate-eigen">Calculate & Visualize</button>
                </div>
                
                <div id="eigen-visualization" class="visualization"></div>
                
                <div class="result-box">
                    <p>Eigenvalues: <span id="eigenvalues">λ₁ = 0, λ₂ = 0</span></p>
                    <p>Eigenvectors: <span id="eigenvectors">v₁ = (0,0), v₂ = (0,0)</span></p>
                </div>
            </div>
        </div>
        
        <!-- Coordinate Systems Tab -->
        <div id="coordinate-systems" class="tab-content">
            <!-- Coordinate Converter -->
            <div class="interactive-element">
                <h2>Coordinate System Converter</h2>
                <p>Convert between different coordinate systems: Cartesian, Polar, Cylindrical, and Spherical.</p>
                
                <div class="controls">
                    <label>
                        Input Coordinate System:
                        <select id="input-coordinate-system">
                            <option value="cartesian">Cartesian (x,y,z)</option>
                            <option value="polar">Polar (r,θ)</option>
                            <option value="cylindrical">Cylindrical (r,θ,z)</option>
                            <option value="spherical">Spherical (ρ,θ,φ)</option>
                        </select>
                    </label>
                    
                    <div id="cartesian-input" class="coordinate-input">
                        <label>x: <input type="number" id="x-input" value="1" step="0.1"></label>
                        <label>y: <input type="number" id="y-input" value="1" step="0.1"></label>
                        <label>z: <input type="number" id="z-input" value="1" step="0.1"></label>
                    </div>
                    
                    <div id="polar-input" class="coordinate-input" style="display: none;">
                        <label>r: <input type="number" id="r-polar-input" value="1" min="0" step="0.1"></label>
                        <label>θ (rad): <input type="number" id="theta-polar-input" value="0" step="0.1"></label>
                    </div>
                    
                    <div id="cylindrical-input" class="coordinate-input" style="display: none;">
                        <label>r: <input type="number" id="r-cylindrical-input" value="1" min="0" step="0.1"></label>
                        <label>θ (rad): <input type="number" id="theta-cylindrical-input" value="0" step="0.1"></label>
                        <label>z: <input type="number" id="z-cylindrical-input" value="1" step="0.1"></label>
                    </div>
                    
                    <div id="spherical-input" class="coordinate-input" style="display: none;">
                        <label>ρ: <input type="number" id="rho-input" value="1" min="0" step="0.1"></label>
                        <label>θ (rad): <input type="number" id="theta-spherical-input" value="0" step="0.1"></label>
                        <label>φ (rad): <input type="number" id="phi-input" value="0" step="0.1"></label>
                    </div>
                    
                    <label>
                        Output Coordinate System:
                        <select id="output-coordinate-system">
                            <option value="cartesian">Cartesian (x,y,z)</option>
                            <option value="polar">Polar (r,θ)</option>
                            <option value="cylindrical">Cylindrical (r,θ,z)</option>
                            <option value="spherical">Spherical (ρ,θ,φ)</option>
                        </select>
                    </label>
                    
                    <button id="convert-coordinates">Convert</button>
                </div>
                
                <div id="coordinate-visualization" class="visualization"></div>
                
                <div class="result-box">
                    <p>Conversion Result:</p>
                    <pre id="conversion-result">Result will appear here</pre>
                </div>
            </div>
            
            <!-- Vector Field Visualizer -->
            <div class="interactive-element">
                <h2>Vector Field Visualizer</h2>
                <p>Visualize vector fields in different coordinate systems.</p>
                
                <div class="controls">
                    <label>
                        Coordinate System:
                        <select id="vector-field-coordinate-system">
                            <option value="cartesian">Cartesian (x,y,z)</option>
                            <option value="cylindrical">Cylindrical (r,θ,z)</option>
                            <option value="spherical">Spherical (ρ,θ,φ)</option>
                        </select>
                    </label>
                    
                    <label>
                        Vector Field Type:
                        <select id="vector-field-type">
                            <option value="radial">Radial Field</option>
                            <option value="rotational">Rotational Field</option>
                            <option value="dipole">Dipole Field</option>
                            <option value="custom">Custom Field</option>
                        </select>
                    </label>
                    
                    <div id="custom-field-container" style="display: none;">
                        <label>
                            Component 1:
                            <input type="text" id="custom-field-1" value="x">
                        </label>
                        <label>
                            Component 2:
                            <input type="text" id="custom-field-2" value="y">
                        </label>
                        <label>
                            Component 3:
                            <input type="text" id="custom-field-3" value="0">
                        </label>
                    </div>
                    
                    <button id="visualize-vector-field">Visualize</button>
                </div>
                
                <div id="vector-field-visualization" class="visualization"></div>
                
                <div class="result-box">
                    <p>Field Properties:</p>
                    <p>Divergence: <span id="field-divergence">0</span></p>
                    <p>Curl: <span id="field-curl">(0,0,0)</span></p>
                </div>
            </div>
        </div>
        
        <!-- Statistical Thinking Tab -->
        <div id="statistical-thinking" class="tab-content">
            <!-- Statistical Distribution Visualizer -->
            <div class="interactive-element">
                <h2>Statistical Distribution Visualizer</h2>
                <p>Explore common probability distributions used in astronomy and their properties.</p>
                
                <div class="controls">
                    <label>
                        Distribution:
                        <select id="distribution-type">
                            <option value="normal">Normal (Gaussian)</option>
                            <option value="poisson">Poisson</option>
                            <option value="binomial">Binomial</option>
                            <option value="exponential">Exponential</option>
                            <option value="chi-squared">Chi-Squared</option>
                        </select>
                    </label>
                    
                    <div id="normal-params" class="distribution-params">
                        <label>
                            Mean (μ):
                            <input type="number" id="normal-mean" value="0" step="0.1">
                        </label>
                        <label>
                            Standard Deviation (σ):
                            <input type="number" id="normal-std" value="1" min="0.1" step="0.1">
                        </label>
                    </div>
                    
                    <div id="poisson-params" class="distribution-params" style="display: none;">
                        <label>
                            Rate (λ):
                            <input type="number" id="poisson-lambda" value="5" min="0.1" step="0.1">
                        </label>
                    </div>
                    
                    <div id="binomial-params" class="distribution-params" style="display: none;">
                        <label>
                            Trials (n):
                            <input type="number" id="binomial-n" value="10" min="1" step="1">
                        </label>
                        <label>
                            Success Probability (p):
                            <input type="number" id="binomial-p" value="0.5" min="0" max="1" step="0.01">
                        </label>
                    </div>
                    
                    <div id="exponential-params" class="distribution-params" style="display: none;">
                        <label>
                            Rate (λ):
                            <input type="number" id="exponential-lambda" value="1" min="0.1" step="0.1">
                        </label>
                    </div>
                    
                    <div id="chi-squared-params" class="distribution-params" style="display: none;">
                        <label>
                            Degrees of Freedom:
                            <input type="number" id="chi-squared-df" value="3" min="1" step="1">
                        </label>
                    </div>
                    
                    <button id="update-distribution">Update</button>
                </div>
                
                <div id="distribution-visualization" class="visualization"></div>
                
                <div class="result-box">
                    <p>Mean: <span id="dist-mean">0</span></p>
                    <p>Variance: <span id="dist-variance">1</span></p>
                    <p>Skewness: <span id="dist-skewness">0</span></p>
                    <p>Kurtosis: <span id="dist-kurtosis">3</span></p>
                </div>
            </div>
            
            <!-- Error Propagation Calculator -->
            <div class="interactive-element">
                <h2>Error Propagation Calculator</h2>
                <p>Calculate how measurement uncertainties propagate through calculations.</p>
                
                <div class="controls">
                    <label>
                        Operation:
                        <select id="error-operation">
                            <option value="add">Addition (a + b)</option>
                            <option value="subtract">Subtraction (a - b)</option>
                            <option value="multiply">Multiplication (a × b)</option>
                            <option value="divide">Division (a ÷ b)</option>
                            <option value="power">Power (a^b)</option>
                            <option value="custom">Custom Function</option>
                        </select>
                    </label>
                    
                    <div id="standard-error-inputs">
                        <label>
                            Value of a:
                            <input type="number" id="value-a" value="10" step="0.1">
                        </label>
                        <label>
                            Uncertainty in a (σₐ):
                            <input type="number" id="uncertainty-a" value="0.5" min="0" step="0.1">
                        </label>
                        <label>
                            Value of b:
                            <input type="number" id="value-b" value="5" step="0.1">
                        </label>
                        <label>
                            Uncertainty in b (σᵦ):
                            <input type="number" id="uncertainty-b" value="0.2" min="0" step="0.1">
                        </label>
                    </div>
                    
                    <div id="custom-error-function" style="display: none;">
                        <label>
                            Custom Function (use 'a' and 'b' as variables):
                            <input type="text" id="custom-error-expr" value="a*sin(b)">
                        </label>
                    </div>
                    
                    <label>
                        Correlation Coefficient (ρ):
                        <input type="range" id="correlation" min="-1" max="1" step="0.1" value="0">
                        <span id="correlation-value">0</span>
                    </label>
                    
                    <button id="calculate-error">Calculate</button>
                </div>
                
                <div id="error-visualization" class="visualization"></div>
                
                <div class="result-box">
                    <p>Result Value: <span id="result-value">0</span></p>
                    <p>Result Uncertainty: <span id="result-uncertainty">0</span></p>
                    <p>Relative Uncertainty: <span id="relative-uncertainty">0%</span></p>
                </div>
            </div>
            
            <!-- Hypothesis Testing Simulator -->
            <div class="interactive-element">
                <h2>Hypothesis Testing Simulator</h2>
                <p>Simulate hypothesis testing and understand p-values, significance levels, and statistical power.</p>
                
                <div class="controls">
                    <label>
                        Test Type:
                        <select id="test-type">
                            <option value="z-test">Z-Test (Known σ)</option>
                            <option value="t-test">T-Test (Unknown σ)</option>
                            <option value="chi-squared">Chi-Squared Test</option>
                        </select>
                    </label>
                    
                    <div id="z-test-params" class="test-params">
                        <label>
                            Null Hypothesis Mean (μ₀):
                            <input type="number" id="null-mean" value="0" step="0.1">
                        </label>
                        <label>
                            Population Standard Deviation (σ):
                            <input type="number" id="pop-std" value="1" min="0.1" step="0.1">
                        </label>
                        <label>
                            Sample Size (n):
                            <input type="number" id="sample-size" value="30" min="1" step="1">
                        </label>
                        <label>
                            True Mean (μ₁, for power calculation):
                            <input type="number" id="true-mean" value="0.5" step="0.1">
                        </label>
                    </div>
                    
                    <label>
                        Significance Level (α):
                        <select id="significance-level">
                            <option value="0.1">0.1 (10%)</option>
                            <option value="0.05" selected>0.05 (5%)</option>
                            <option value="0.01">0.01 (1%)</option>
                            <option value="0.001">0.001 (0.1%)</option>
                        </select>
                    </label>
                    
                    <label>
                        Alternative Hypothesis:
                        <select id="alternative-hypothesis">
                            <option value="two-sided">Two-sided (μ ≠ μ₀)</option>
                            <option value="greater">Greater than (μ > μ₀)</option>
                            <option value="less">Less than (μ < μ₀)</option>
                        </select>
                    </label>
                    
                    <button id="run-simulation">Run Simulation</button>
                    <button id="generate-sample">Generate One Sample</button>
                </div>
                
                <div id="hypothesis-visualization" class="visualization"></div>
                
                <div class="result-box">
                    <p>Sample Mean: <span id="sample-mean">0</span></p>
                    <p>Test Statistic: <span id="test-statistic">0</span></p>
                    <p>P-value: <span id="p-value">0</span></p>
                    <p>Decision: <span id="test-decision">Fail to reject H₀</span></p>
                    <p>Statistical Power: <span id="statistical-power">0</span></p>
                </div>
            </div>
        </div>
        
        <!-- Computational Approaches Tab -->
        <div id="computational-approaches" class="tab-content">
            <!-- N-body Simulation -->
            <div class="interactive-element">
                <h2>N-body Simulation</h2>
                <p>Explore gravitational interactions between multiple bodies using different integration methods.</p>
                
                <div class="controls">
                    <label>
                        Number of Bodies:
                        <input type="number" id="comp-num-bodies" min="2" max="50" value="5">
                    </label>
                    
                    <label>
                        System Type:
                        <select id="comp-system-type">
                            <option value="random">Random Distribution</option>
                            <option value="solar">Solar System-like</option>
                            <option value="binary">Binary Star System</option>
                            <option value="cluster">Star Cluster</option>
                        </select>
                    </label>
                    
                    <label>
                        Integration Method:
                        <select id="comp-integration-method">
                            <option value="euler">Euler</option>
                            <option value="verlet">Velocity Verlet</option>
                            <option value="rk4">Runge-Kutta 4th Order</option>
                        </select>
                    </label>
                    
                    <label>
                        Show Trails:
                        <input type="checkbox" id="comp-show-trails" checked>
                    </label>
                    
                    <button id="comp-step-nbody">Step Simulation</button>
                    <button id="comp-reset-nbody">Reset</button>
                </div>
                
                <div id="comp-nbody-visualization" class="visualization"></div>
                
                <div class="stats">
                    <div class="stat-item">
                        <p>Kinetic Energy: <span id="comp-kinetic-energy">0</span></p>
                    </div>
                    <div class="stat-item">
                        <p>Potential Energy: <span id="comp-potential-energy">0</span></p>
                    </div>
                    <div class="stat-item">
                        <p>Total Energy: <span id="comp-total-energy">0</span></p>
                    </div>
                </div>
            </div>
            
            <!-- Fluid Dynamics Simulation -->
            <div class="interactive-element">
                <h2>Fluid Dynamics Simulation</h2>
                <p>Visualize fluid flow and understand computational fluid dynamics methods.</p>
                
                <div class="controls">
                    <label>
                        Fluid Type:
                        <select id="comp-fluid-type">
                            <option value="shock">Shock Wave</option>
                            <option value="vortex">Vortex</option>
                            <option value="explosion">Explosion</option>
                        </select>
                    </label>
                    
                    <label>
                        Method:
                        <select id="comp-fluid-method">
                            <option value="basic">Basic Advection</option>
                            <option value="diffusion">With Diffusion</option>
                            <option value="viscosity">With Viscosity</option>
                            <option value="full">Full Navier-Stokes</option>
                        </select>
                    </label>
                    
                    <label>
                        Visualization:
                        <select id="comp-visualization-type">
                            <option value="density">Density</option>
                            <option value="velocity">Velocity</option>
                            <option value="pressure">Pressure</option>
                            <option value="temperature">Temperature</option>
                        </select>
                    </label>
                    
                    <label>
                        Show Velocity Vectors:
                        <input type="checkbox" id="comp-show-vectors">
                    </label>
                    
                    <button id="comp-step-fluid">Step Simulation</button>
                    <button id="comp-reset-fluid">Reset</button>
                </div>
                
                <div id="comp-fluid-visualization" class="visualization"></div>
            </div>
            
            <!-- Monte Carlo Radiative Transfer -->
            <div class="interactive-element">
                <h2>Monte Carlo Radiative Transfer</h2>
                <p>Simulate photon transport through media using Monte Carlo methods.</p>
                
                <div class="controls">
                    <label>
                        Medium Type:
                        <select id="comp-mc-type">
                            <option value="cloud">Spherical Cloud</option>
                            <option value="maze">Maze Structure</option>
                            <option value="custom">Custom Obstacles</option>
                        </select>
                    </label>
                    
                    <label>
                        Source Type:
                        <select id="comp-source-type">
                            <option value="point">Point Source (Center)</option>
                            <option value="beam">Beam (Left Side)</option>
                            <option value="random">Random (Boundary)</option>
                        </select>
                    </label>
                    
                    <label>
                        Optical Depth:
                        <input type="range" id="comp-optical-depth" min="0.1" max="10" step="0.1" value="1">
                        <span id="comp-optical-depth-value">1.0</span>
                    </label>
                    
                    <label>
                        Batch Size:
                        <input type="number" id="comp-batch-size" min="1" max="100" value="10">
                    </label>
                    
                    <label>
                        Show Paths:
                        <input type="checkbox" id="comp-show-paths" checked>
                    </label>
                    
                    <button id="comp-start-mc">Start Simulation</button>
                    <button id="comp-stop-mc">Stop</button>
                    <button id="comp-reset-mc">Reset</button>
                </div>
                
                <div id="comp-mc-visualization" class="visualization"></div>
                
                <div class="stats">
                    <div class="stat-item">
                        <p>Total Particles: <span id="comp-total-particles">0</span></p>
                    </div>
                    <div class="stat-item">
                        <p>Escaped: <span id="comp-escaped-particles">0</span></p>
                    </div>
                    <div class="stat-item">
                        <p>Absorbed: <span id="comp-absorbed-particles">0</span></p>
                    </div>
                    <div class="stat-item">
                        <p>Escape Probability: <span id="comp-escape-probability">0%</span></p>
                    </div>
                    <div class="stat-item">
                        <p>Avg. Scatters: <span id="comp-avg-scatters">0</span></p>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Numerical Methods Tab -->
        <div id="numerical-methods" class="tab-content">
            <!-- N-body Simulation -->
            <div class="interactive-element">
                <h2>N-body Simulation</h2>
                <p>Explore gravitational interactions between multiple bodies using different numerical integration methods.</p>
                
                <div class="controls">
                    <label>
                        Number of Bodies:
                        <input type="number" id="num-bodies" min="2" max="50" value="5">
                    </label>
                    
                    <label>
                        System Type:
                        <select id="system-type">
                            <option value="random">Random Distribution</option>
                            <option value="solar">Solar System-like</option>
                            <option value="binary">Binary Star System</option>
                        </select>
                    </label>
                    
                    <label>
                        Integration Method:
                        <select id="integration-method">
                            <option value="euler">Euler</option>
                            <option value="verlet">Velocity Verlet</option>
                            <option value="rk4">Runge-Kutta 4th Order</option>
                        </select>
                    </label>
                    
                    <label>
                        Show Trails:
                        <input type="checkbox" id="show-trails" checked>
                    </label>
                    
                    <button id="step-nbody">Step Simulation</button>
                    <button id="reset-nbody">Reset</button>
                </div>
                
                <div id="nbody-visualization" class="visualization"></div>
                
                <div class="stats">
                    <div class="stat-item">
                        <p>Kinetic Energy: <span id="kinetic-energy">0</span></p>
                    </div>
                    <div class="stat-item">
                        <p>Potential Energy: <span id="potential-energy">0</span></p>
                    </div>
                    <div class="stat-item">
                        <p>Total Energy: <span id="total-energy">0</span></p>
                    </div>
                </div>
            </div>
            
            <!-- Fluid Dynamics Simulation -->
            <div class="interactive-element">
                <h2>Fluid Dynamics Simulation</h2>
                <p>Visualize fluid flow and understand computational fluid dynamics methods used in astrophysical simulations.</p>
                
                <div class="controls">
                    <label>
                        Fluid Type:
                        <select id="fluid-type">
                            <option value="shock">Shock Wave</option>
                            <option value="vortex">Vortex</option>
                            <option value="explosion">Explosion</option>
                        </select>
                    </label>
                    
                    <label>
                        Method:
                        <select id="fluid-method">
                            <option value="basic">Basic Advection</option>
                            <option value="diffusion">With Diffusion</option>
                            <option value="viscosity">With Viscosity</option>
                            <option value="full">Full Navier-Stokes</option>
                        </select>
                    </label>
                    
                    <label>
                        Visualization:
                        <select id="visualization-type">
                            <option value="density">Density</option>
                            <option value="velocity">Velocity</option>
                            <option value="pressure">Pressure</option>
                            <option value="temperature">Temperature</option>
                        </select>
                    </label>
                    
                    <label>
                        Show Velocity Vectors:
                        <input type="checkbox" id="show-vectors">
                    </label>
                    
                    <button id="step-fluid">Step Simulation</button>
                    <button id="reset-fluid">Reset</button>
                </div>
                
                <div id="fluid-visualization" class="visualization"></div>
            </div>
            
            <!-- Monte Carlo Radiative Transfer -->
            <div class="interactive-element">
                <h2>Monte Carlo Radiative Transfer</h2>
                <p>Simulate photon transport through media using Monte Carlo methods, essential for modeling radiation in astrophysical environments.</p>
                
                <div class="controls">
                    <label>
                        Medium Type:
                        <select id="mc-type">
                            <option value="cloud">Spherical Cloud</option>
                            <option value="maze">Maze Structure</option>
                            <option value="custom">Custom Obstacles</option>
                        </select>
                    </label>
                    
                    <label>
                        Source Type:
                        <select id="source-type">
                            <option value="point">Point Source (Center)</option>
                            <option value="beam">Beam (Left Side)</option>
                            <option value="random">Random (Boundary)</option>
                        </select>
                    </label>
                    
                    <label>
                        Optical Depth:
                        <input type="range" id="optical-depth" min="0.1" max="10" step="0.1" value="1">
                        <span id="optical-depth-value">1.0</span>
                    </label>
                    
                    <label>
                        Batch Size:
                        <input type="number" id="batch-size" min="1" max="100" value="10">
                    </label>
                    
                    <label>
                        Show Paths:
                        <input type="checkbox" id="show-paths" checked>
                    </label>
                    
                    <button id="start-mc">Start Simulation</button>
                    <button id="stop-mc">Stop</button>
                    <button id="reset-mc">Reset</button>
                </div>
                
                <div id="mc-visualization" class="visualization"></div>
                
                <div class="stats">
                    <div class="stat-item">
                        <p>Total Particles: <span id="total-particles">0</span></p>
                    </div>
                    <div class="stat-item">
                        <p>Escaped: <span id="escaped-particles">0</span></p>
                    </div>
                    <div class="stat-item">
                        <p>Absorbed: <span id="absorbed-particles">0</span></p>
                    </div>
                    <div class="stat-item">
                        <p>Escape Probability: <span id="escape-probability">0%</span></p>
                    </div>
                    <div class="stat-item">
                        <p>Avg. Scatters: <span id="avg-scatters">0</span></p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        // Function to switch between tabs
        function openTab(evt, tabName) {
            // Hide all tab content
            const tabContents = document.getElementsByClassName('tab-content');
            for (let i = 0; i < tabContents.length; i++) {
                tabContents[i].classList.remove('active');
            }
            
            // Remove active class from all tabs
            const tabs = document.getElementsByClassName('tab');
            for (let i = 0; i < tabs.length; i++) {
                tabs[i].classList.remove('active');
            }
            
            // Show the selected tab content and mark the button as active
            document.getElementById(tabName).classList.add('active');
            evt.currentTarget.classList.add('active');
        }
    </script>
    
    <!-- Include all interactive JavaScript files -->
    <script src="advanced_mathematics_interactive.js"></script>
    <script src="statistical_thinking_interactive.js"></script>
    <script src="computational_approaches_interactive.js"></script>
    <script src="numerical_methods_interactive.js"></script>
</body>
</html>
